HIVE-11985 change does not use partition deserializer
As commented in https://reviews.apache.org/r/38862/diff/5?file=1102759#file1102759line786 , the function Hive.getFieldsFromDeserializerForMsStorage is ignoring the deserializer passed to it and it is taking from the table instead.
However, for the call to the function from Partition.java , that is not the right behavior. The partition can potentially have a different deserializer.