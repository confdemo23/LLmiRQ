Thrift and RDBMS changes for HIVE-10249
