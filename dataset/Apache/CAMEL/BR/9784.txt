Camel polling the files from S3 only once if deleteAfterRead is false
if deleteAfterRead option is kept false while fetching all the files in the S3 bucket to linux machine, Camel polls all the files only once. I tried to debug org.apache.camel.component.aws.s3.S3Consumer.java class inside method poll() there is check for filesConsumed boolean variable which seems to be always true after the first polling and then it never access any files.
Same issue was reported http://stackoverflow.com/questions/34193738/apache-camel-s3-only-do-polling-once but the suggestion was to downgrade to 2.16.0 which has many different issues which got fixed in 2.17.0