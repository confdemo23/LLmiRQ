Inconsistent stage for adding/updating/removing system properties
SystemPropertyAddHandler and SystemPropertyValueWriteAttributeHandler both update the VM property map during Stage.MODEL, while SystemPropertyRemoveHandler waits until Stage.RUNTIME.
This can lead to unintuitive behavior in a composite op, e.g. if a user does a remove and then an add in a batch to change the value. The remove will actually update the runtime after the add, resulting in the prop being unset.
The SystemPropertyAddHandler and SystemPropertyValueWriteAttributeHandler behavior is non-standard as they change non-model information in Stage.MODEL, but that was done deliberately (I forget exactly why.) So the fix should be to adapt SystemPropertyRemoveHandler.
This is minor because the remove + add in a composite workflow is a harder-to-use alternative to using a single write-attribute op.