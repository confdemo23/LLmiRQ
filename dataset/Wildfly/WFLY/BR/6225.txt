ClassNotFoundException from in-server EJB client
During a 2clusters test eap-7x-failover-ejb-2clusters-ejbremote-shutdown-repl-async (where 2clusters test = standalone EJB client -&gt; 2-node "forwarder" cluster -&gt; 2-node "target" cluster -&gt; back to "forwarder" -&gt; back to standalone client), I&amp;apos;m seeing javax.ejb.EJBException: java.lang.ClassNotFoundException: org.infinispan.util.concurrent.TimeoutException from [Module "deployment.clusterbench-ee7.ear.clusterbench-ee7-ejb.jar:main" from Service Module Loader] being thrown from an in-server EJB client.
The TimeoutException-s are due to WFLY-5809, as can be seen by comparing the parsed logs: log messages with "TimeoutException: Unable to acquire lock" and log messages with "TimeoutException" only.
This sounds very similar to WFLY-5788, except that in this case, the EJB client is inside the server. The EJB JAR subdeployment probably doesn&amp;apos;t have a dependency on org.infinispan, but in previous EAP 7 ERs, this wasn&amp;apos;t a problem and there were no CNFEs even though there were the TimeoutException-s. (BTW, there&amp;apos;s another subdeployment that has the dependency.) This is new in EAP 7.0.0.ER5, which is why I&amp;apos;m filing it separately from WFLY-5788.