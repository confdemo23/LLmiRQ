Encoding data using Base64OutputStream omits part of the input in some cases
In case Base64OutputStream is used for encoding byte array produced from some strings, an incomplete result (that is inconsistent with both other Base64 implementations and Base64InputStream implementation) is produced. It appears that "s" character is getting omitted if it&amp;apos;s in the end of the string to be encoded; there may be other cases as well.
Here is the test that allows to reproduce the problem: http://kiberion.net/kibertoad/temp/codec-base64-error.zip