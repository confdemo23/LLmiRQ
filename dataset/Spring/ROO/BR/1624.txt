Assertion fails when adding annotation to ItdTypeDetailsBuilder
The addFieldAnnotation(DeclaredFieldAnnotationDetails declaredFieldAnnotationDetails) method in ItdTypeDetailsBuilder doesn&amp;apos;t take into account whether the DeclaredFieldAnnotationDetails is to remove an annotation and fails assuming that the annotation has been declared multiple time. The assertion fail messages also need to be tweaked to produce more accurate messages.
Field annotation &amp;apos;@ManyToOne&amp;apos; already defined in target type &amp;apos;org.springsource.roo.extrack.server.domain.Expense.report&amp;apos; (ITD target &amp;apos;org.springsource.roo.extrack.server.domain.Expense_Roo_Gae&amp;apos;)
           java.lang.IllegalArgumentException: Field annotation &amp;apos;@ManyToOne&amp;apos; already defined in target type &amp;apos;org.springsource.roo.extrack.server.domain.Expense.report&amp;apos; (ITD target &amp;apos;org.springsource.roo.extrack.server.domain.Expense_Roo_Gae&amp;apos;)
             at org.springframework.roo.support.util.Assert.isTrue(Assert.java:65)
             at org.springframework.roo.classpath.details.ItdTypeDetailsBuilder.addFieldAnnotation(ItdTypeDetailsBuilder.java:103)
             at org.springframework.roo.addon.gae.GaeMetadata.&lt;init&gt;(GaeMetadata.java:57)
             at org.springframework.roo.addon.gae.GaeMetadataProvider.getMetadata(GaeMetadataProvider.java:42)
             at org.springframework.roo.classpath.itd.AbstractItdMetadataProvider.get(AbstractItdMetadataProvider.java:250)
             at org.springframework.roo.metadata.DefaultMetadataService.get(DefaultMetadataService.java:139)
             at org.springframework.roo.metadata.DefaultMetadataService.get(DefaultMetadataService.java:159)
             at org.springframework.roo.classpath.scanner.MemberDetailsScannerImpl.getMemberDetails(MemberDetailsScannerImpl.java:98)
             at org.springframework.roo.addon.beaninfo.BeanInfoMetadataProviderImpl.getMetadata(BeanInfoMetadataProviderImpl.java:34)
             at org.springframework.roo.classpath.itd.AbstractItdMetadataProvider.get(AbstractItdMetadataProvider.java:250)
             at org.springframework.roo.metadata.DefaultMetadataService.get(DefaultMetadataService.java:139)
             at org.springframework.roo.metadata.DefaultMetadataService.get(DefaultMetadataService.java:159)
             at org.springframework.roo.addon.dod.DataOnDemandMetadataProvider.getMetadata(DataOnDemandMetadataProvider.java:56)
             at org.springframework.roo.classpath.itd.AbstractItdMetadataProvider.get(AbstractItdMetadataProvider.java:250)
             at org.springframework.roo.metadata.DefaultMetadataService.get(DefaultMetadataService.java:139)
             at org.springframework.roo.metadata.DefaultMetadataService.get(DefaultMetadataService.java:159)
             at org.springframework.roo.addon.test.IntegrationTestMetadataProvider.getMetadata(IntegrationTestMetadataProvider.java:57)
             at org.springframework.roo.classpath.itd.AbstractItdMetadataProvider.get(AbstractItdMetadataProvider.java:250)
             at org.springframework.roo.metadata.DefaultMetadataService.get(DefaultMetadataService.java:139)
             at org.springframework.roo.classpath.itd.AbstractItdMetadataProvider.notify(AbstractItdMetadataProvider.java:124)
             at org.springframework.roo.metadata.DefaultMetadataService.notify(DefaultMetadataService.java:179)
             at org.springframework.roo.metadata.internal.DefaultMetadataDependencyRegistry.notifyDownstream(DefaultMetadataDependencyRegistry.java:262)
             at org.springframework.roo.classpath.javaparser.JavaParserMetadataProvider.onFileEvent(JavaParserMetadataProvider.java:138)
             at org.springframework.roo.file.monitor.polling.PollingFileMonitorService.publish(PollingFileMonitorService.java:344)
             at org.springframework.roo.file.monitor.polling.PollingFileMonitorService.scanAll(PollingFileMonitorService.java:318)
             at org.springframework.roo.process.manager.internal.DefaultFileManager.notify(DefaultFileManager.java:183)
             at org.springframework.roo.metadata.internal.DefaultMetadataDependencyRegistry.notifyDownstream(DefaultMetadataDependencyRegistry.java:276)
             at org.springframework.roo.addon.maven.MavenProjectMetadataProvider.onFileEvent(MavenProjectMetadataProvider.java:691)
             at org.springframework.roo.file.monitor.polling.PollingFileMonitorService.publish(PollingFileMonitorService.java:344)
             at org.springframework.roo.file.monitor.polling.PollingFileMonitorService.scanAll(PollingFileMonitorService.java:318)
             at org.springframework.roo.process.manager.internal.MonitoringRequestCommand.callback(MonitoringRequestCommand.java:36)
             at org.springframework.roo.process.manager.internal.MonitoringRequestCommand.callback(MonitoringRequestCommand.java:15)
             at org.springframework.roo.process.manager.internal.DefaultProcessManager.doTransactionally(DefaultProcessManager.java:177)
             at org.springframework.roo.process.manager.internal.DefaultProcessManager.completeStartup(DefaultProcessManager.java:99)
             at org.springframework.roo.process.manager.internal.DefaultProcessManager$1.frameworkEvent(DefaultProcessManager.java:62)
             at org.apache.felix.framework.util.EventDispatcher.invokeFrameworkListenerCallback(EventDispatcher.java:767)
             at org.apache.felix.framework.util.EventDispatcher.fireEventImmediately(EventDispatcher.java:724)
             at org.apache.felix.framework.util.EventDispatcher.run(EventDispatcher.java:942)
             at org.apache.felix.framework.util.EventDispatcher.access$000(EventDispatcher.java:54)
             at org.apache.felix.framework.util.EventDispatcher$1.run(EventDispatcher.java:106)
             at java.lang.Thread.run(Thread.java:637)