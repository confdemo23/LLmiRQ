FlatFileItemWriter and StaxEventItemWriter do not restart in the right place
When writing to an output file using a FlatFileItemWriter, the position in the output file is stored in the executioncontext. This is done in the update() method in FlatFileItemWriter. The position is determined by calling the underlying fileChannel&amp;apos;s position() method.
However, the transaction in which it runs is not yet committed. Therefore, the actual write-to-disk has not been done and the fileChannels position will still be the position after the previous chunk.  On a restart of the job, the output file is opened at the beginning of the last chunk, which then gets overwritten.
Put in other words, the stored position in the output file seems to be running one chunk behind. 