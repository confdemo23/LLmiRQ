ItemStream is not being opened correctly for multi-threaded Step when scope="step"
The following job definition works however if I change the reader to scope="step" I will get an exception about the stream never being opened (from FlatFileItemReader.doRead()). It appears doOpen() is called at least once however I believe its a different instance than what is actually used for read() because when read() is called the reader is not initialized.
            &lt;job id="search-job" restartable="true"&gt;
		&lt;step id="search-job-step"&gt;
			&lt;tasklet transaction-manager="transactionManager" allow-start-if-complete="true"&gt;
				&lt;chunk reader="itemReader" writer="itemWriter" commit-interval="1" task-executor="executor" &gt;
					&lt;streams&gt; &lt;!-- tried with and without this --&gt;
						&lt;stream ref="itemReader" /&gt;
					&lt;/streams&gt;
				&lt;/chunk&gt;
			&lt;/tasklet&gt;
		&lt;/step&gt;
	&lt;/job&gt;
	&lt;b:bean id="itemReader" class="org.springframework.batch.item.file.FlatFileItemReader"&gt;
		&lt;b:property name="resource" value="file:input.csv" /&gt;
		&lt;b:property name="lineMapper"&gt;
			&lt;b:bean class="org.springframework.batch.item.file.mapping.DefaultLineMapper"&gt;
				&lt;b:property name="lineTokenizer"&gt;
					&lt;b:bean class="org.springframework.batch.item.file.transform.DelimitedLineTokenizer"&gt;
						&lt;b:property name="names" value="col1,col2,col3" /&gt;
					&lt;/b:bean&gt;
				&lt;/b:property&gt;
				&lt;b:property name="fieldSetMapper"&gt;
					&lt;b:bean class="com.company.prj.batch.ItemFieldSetMapper" /&gt;
				&lt;/b:property&gt;
			&lt;/b:bean&gt;
		&lt;/b:property&gt;
	&lt;/b:bean&gt;
	&lt;b:bean id="itemWriter" class="org.springframework.batch.item.file.FlatFileItemWriter"&gt;
		&lt;b:property name="resource" value="file:searchoutput.txt" /&gt;
		&lt;b:property name="lineAggregator"&gt;
			&lt;b:bean class="com.company.prj.batch.SearchResultsAggregator" /&gt;
		&lt;/b:property&gt;
	&lt;/b:bean&gt;