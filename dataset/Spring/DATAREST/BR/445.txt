RepositoryCollectionResourceMapping does not obtain domain type from RepositoryMetadata
RepositoryCollectionResourceMapping is manually looking up generic types to determine the domain type handled but actually it can just use the RepositoryMetadata handed into the constructor.