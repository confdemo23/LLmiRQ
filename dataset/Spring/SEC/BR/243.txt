SessionRegistryImpl.getAllSessions(Object) incorrectly includes expired and destroyed sessions
The function SessionRegistryImpl.getAllSessions(principal) returns all session associated with the principal, even it is marked as expired. This is in violation of the SessionRegistry interface contract.
The fix is to filter out any expired session information return by function sessionRegistry.getAllSessions(principal)