HttpSessionRequestCache.getRequest performs cast to concrete DefaultSavedRequest instead of interface SavedRequest
org.springframework.security.web.savedrequest.HttpSessionRequestCache.getRequest loads the SavedRequest object form session. The method signature is using the correct SavedRequest interface. The implementation performs a cast to DefaultSavedRequest. 
Using a custom implementation of the interface SavedRequest in the security context causes ClassCastException when the method is used to load the SavedRequest.
The interface should be used for cast since the method getRequest itself is not using any method of the concrete default implementation.