Security context held between multiple MVC requests in one test
I&amp;apos;m using the new Spring Security test integration features in my Mock MVC tests and noticed that in tests where there are two MVC calls but with different Authentication, the Authentication set in the first MVC call is still present on the second MVC call.
For example, the first call has only the required update permission and the second call has only the required read permission. The second still has the update permission and can&amp;apos;t do the read.
In order to work around this I created a ResultHandler that will call TestSecurityContext.clearContext().