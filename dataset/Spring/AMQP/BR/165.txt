AmqpAppender does not die cleanly when webapp shuts down
Fixed in samples by using Log4jConfigListener (it shuts down the appenders) and also in spring-rabbit by manually closing the connection factory when the appender closes.