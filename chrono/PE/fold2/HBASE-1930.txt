Put.setTimeStamp misleading (doesn&apos;t change timestamp on existing KeyValues, not copied in copy constructor)
In the process of migrating some code from 0.19, and was changing BatchUpdate&amp;apos;s to Put&amp;apos;s.  I was hit by a bit of a gotcha.  In the old code, I populated the BatchUpdate, then set the timestamp.  However, this doesn&amp;apos;t wotk for Put, because Put creates KeyValue&amp;apos;s with the currently set timestamp when adding values.  Setting the timestamp at the end has no effect.  Also, the copy constructor doesn&amp;apos;t copy the timestamp (or writeToWAL) setting.
One option would be to simply update the javadoc to make it clear that the timestamp needs to be set prior to adding values.  I&amp;apos;m attaching a proposed patch which moves the timestamp setting to constructor only so that it isn&amp;apos;t possible to trigger the confusing case at all.