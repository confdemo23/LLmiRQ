Default JavaConfig SessionRegistryImpl does not receive SessionDestroyedEvents
SessionManagementConfigurer creates a default SessionRegistryImpl directly, without wiring it as a Spring bean. So, the SessionRegistryImpl does not receive SessionDestroyedEvents and does not maintain an accurate list of current sessions.
Once consequence of this is that concurrency control will work off inaccurate data, and in the worst case prevents users from ever logging in a second time with maximumSessions(1) and maxSessionPreventsLogin(true).
A workaround is for an application to define its own @Bean sessionRegistry(), and use it with "ConcurrencyControlConfigurer.sessionRegistry(sessionRegistry())". But this shouldn&amp;apos;t be necessary.